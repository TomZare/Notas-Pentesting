#!/bin/bash

function ctrl_c(){
        echo -e "\n[!] Bye . . . \n"
        exit 1
}

# Ctrl+C
trap ctrl_c INT

hosts=("172.18.0" "172.19.0")

ports=(21 22 53 80 110 135 139 143 389 443 445 593 636 993 995 1080 1443 1880 2049 3000 3128 3268 3269 3306 3389 4505 4506 5800 5801 5900 5901 5985 5986 6379 8080 8082 8443 8888 9000 10000 11211 24007 27017 30821 49251 49152 50000)

for host in ${hosts[@]}; do
        for i in $(seq 1 254); do
                        for port in ${ports[@]}; do
                                timeout 1 bash -c "echo '' > /dev/tcp/$host.$i/$port" 2> /dev/null && echo  -e "\t[+] Host $host.$i Port $port - Open" &
                        done
        done
done; wait
